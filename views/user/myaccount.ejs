<%- include('../layouts/header.ejs') %>
<%- include('../layouts/nav.ejs')%>


    <div class="breadcrumb-area pt-35 pb-35 bg-gray-3">
        <div class="container">
            <div class="breadcrumb-content text-center">
                <ul>
                    <li>
                        <a href="/">Home</a>
                    </li>
                    <li class="active">My Account </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="checkout-area pb-80 pt-100">
        <div class="container">
            <div class="row">
                <div class="ml-auto mr-auto col-lg-9">
                    <div class="checkout-wrapper">
                        <div id="faq" class="panel-group">
                            <div class="panel panel-default single-my-account">
                                <div class="panel-heading my-account-title">
                                    <h3 class="panel-title"><a> your account information</a></h3>
                                </div>
                                <div id="my-account-1" class="panel-collapse collapse show">
                                    <div class="panel-body">
                                        <div class="myaccount-info-wrapper">
                                            <!-- <div class="account-info-wrapper">
                                                <h5>Your Personal Details</h5>
                                            </div> -->
                                            <div class="row">
                                                <div class="col-lg-6 col-md-6">
                                                    <div class="billing-info">
                                                        <label>First Name</label>
                                                        <input type="text" value="<%= userData.name %>">
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6">
                                                    <div class="billing-info">
                                                        <label>Last Name</label>
                                                        <input type="text" value="<%= userData.name %>">
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-md-12">
                                                    <div class="billing-info">
                                                        <label>Email Address</label>
                                                        <input type="email" value="<%= userData.email %>">
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6">
                                                    <div class="billing-info">
                                                        <label>Telephone</label>
                                                        <input type="text" value="<%= userData.phonenumber %>">
                                                    </div>
                                                </div>
                                                <!-- <div class="col-lg-6 col-md-6">
                                                    <div class="billing-info">
                                                        <label>wallet</label>
                                                        <input type="text" value="<%= userData.wallet %>">
                                                    </div>
                                                </div> -->
                                            </div>
                                            <div class="billing-back-btn">
                                                <div class="reward-points-container">
                                                    <div class="reward-points">
                                                        <i class="ti-wallet wallet-icon"></i>
                                                     <span class="wallet-amount">Wallet:  <%= userData.wallet %></span>
                                                    </div>
                                                </div>
                                                <div class="billing-btn">
                                                    <button type="button" class="btn btn-primary" data-toggle="modal"
                                                        data-target="#addAddressModal">
                                                        Add Address
                                                    </button>
                                                </div>
                                            </div>
                                            <!-- Modal -->
                                            <div class="modal fade" id="addAddressModal" tabindex="-1" role="dialog"
                                                aria-labelledby="addAddressModalLabel" aria-hidden="true">
                                                <div class="modal-dialog" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="addAddressModalLabel">Add
                                                                Address</h5>
                                                            <button type="button" class="close" data-dismiss="modal"
                                                                aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <form method="post" action="/add_address" id="add">

                                                                <div class="row">

                                                                    <div class="col-sm-6">

                                                                        <div class="form-group">
                                                                            <label>Full Name</label>
                                                                            <input type="text" class="form-control"
                                                                                name="name">
                                                                        </div>

                                                                    </div>

                                                                    <div class="col-sm-6">

                                                                        <div class="form-group">
                                                                            <label>Phone Number</label>
                                                                            <input type="text" class="form-control"
                                                                                name="number">
                                                                        </div>

                                                                    </div>

                                                                </div>

                                                                <div class="row">

                                                                    <div class="col-sm-6">

                                                                        <div class="form-group">
                                                                            <label>Pincode</label>
                                                                            <input type="text" class="form-control"
                                                                                name="pincode">
                                                                        </div>

                                                                    </div>

                                                                    <div class="col-sm-6">

                                                                        <div class="form-group">
                                                                            <label>State</label>
                                                                            <select class="form-control form-select"
                                                                                name="state">
                                                                                <option selected="selected">

                                                                                </option>
                                                                                <option value="Andhra Pradesh">India</option>
                                                                                        <option value="Arunachal Pradesh">China</option>
                                                                                        <option value="Assam">Vietanam</option>
                                                                                        <option value="Bihar">Tokyo</option>
                                                                                        <option value="Chhattisgarh">Japan</option>
                                                                                        <option value="Goa ">Goa</option>
                                                                                        <option value="Gujarat ">China</option>
                                                                                        <option value="Haryana ">UK</option>
                                                                                        <option value="Himachal Pradesh ">Abu Dhabi</option>
                                                                                        <option value="Jharkhand ">USA</option>
                                                                                        <option value="Karnataka ">Spain</option>
                                                                                        <option value="Kerala ">Kerala</option>
                                                                            </select>
                                                                        </div>

                                                                    </div>

                                                                </div>

                                                                <div class="row">

                                                                    <div class="col-sm-6">

                                                                        <div class="form-group">
                                                                            <label>District </label>
                                                                            <input type="text" class="form-control"
                                                                                name="district" value="">
                                                                        </div>

                                                                    </div>

                                                                    <div class="col-sm-6">

                                                                        <div class="form-group">
                                                                            <label>City / Town </label>
                                                                            <input type="text" class="form-control"
                                                                                name="street">
                                                                        </div>

                                                                    </div>



                                                                </div>

                                                                <div class="row">

                                                                    <div class="col-sm-6">

                                                                        <div class="form-group">
                                                                            <label>Place name </label>
                                                                            <input type="text" class="form-control"
                                                                                name="place">
                                                                        </div>

                                                                    </div>

                                                                    <div class="col-sm-6">

                                                                        <div class="form-group">
                                                                            <label>Hosue No / Building Name </label>
                                                                            <input type="text" class="form-control"
                                                                                name="building">
                                                                        </div>

                                                                    </div>

                                                                </div>



                                                                <button type="submit" class="btn btn-dark float-end"
                                                                    data-bs-dismiss="modal">Save</button>



                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="panel panel-default single-my-account">
                                <div class="panel-heading my-account-title">
                                    <h3 class="panel-title"><span>3 .</span> <a href="/address">Modify your Address
                                        </a></h3>
                                </div>
                            </div>
                            <div class="panel panel-default single-my-account">
                                <div class="panel-heading my-account-title">
                                    <h3 class="panel-title"><span>4 .</span> <a href="/wishlist">Modify your wish list
                                        </a></h3>
                                </div>
                            </div>
                            <div class="panel panel-default single-my-account">
                                <div class="panel-heading my-account-title">
                                    <h3 class="panel-title"><span>4 .</span> <a href="/orders">Modify your Orders
                                        </a></h3>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        $(document).ready(function () {
    $('#add').submit(function (event) {
        event.preventDefault();
        var formData = $(this).serialize();
        $.ajax({
            type: 'POST',
            url: '/add_address',
            data: formData,
            success: function (response) {
                $('#reloadDiv').load('/myaccount #reloadDiv');
                console.log(response);
                if (response.status) {
                    Swal.fire({
                        title: 'Added!',
                        text: response.message,
                        icon: 'success',
                        showConfirmButton: false,
                        timer: 1000
                    });
                } else {
                    Swal.fire({
                        title: 'Error!',
                        text: response.message,
                        icon: 'error',
                        showConfirmButton: false,
                        timer: 1500
                    });
                }
            },
        });
    });
});

    </script>




<%- include('../layouts/footer.ejs') %>
<%- include('../layouts/foot.ejs')%>

